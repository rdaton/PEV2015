package interfaz;

import java.util.ArrayList;
import java.util.List;

import logica.TipoCruce;

import control.Funcion1;

//me defino una clase de thread para usar más de un cpu
public class rangoWorker implements Runnable
		{
			Funcion1 unaFuncion1=null;
			String elPeor=null;
			List<List<Object>> resultados=null;
			int torneo;
			int tam_pob;
			int num_iter;
			double pCruces; 
			double pMut; 
			int tCruce; 
			int tSeleccion;
			int tMutacion;
			boolean elitismo;
			List<List> structResultados;
			
			public rangoWorker(List<List> structResultados,int torneo, int tam_pob, int num_iter, double pCruces, double pMut, int tCruce, int tSeleccion, int tMutacion, boolean elitismo)
			{
				this.torneo=torneo;
				this.tam_pob=tam_pob;
				this.num_iter=num_iter;
				this.pCruces=pCruces; 
				this.pMut=pMut; 
				this.tCruce=tCruce; 
				this.tSeleccion=tSeleccion;
				this.tMutacion=tMutacion;
				this.elitismo=elitismo;
				this.structResultados=structResultados;
			}
			
			public void run()
			{
				Funcion1 unaFuncion1 = new Funcion1(torneo, tam_pob, num_iter, pCruces, pMut, tCruce, tSeleccion, tMutacion, elitismo);
				elPeor=unaFuncion1.getMejorEntrePeores();
				resultados=unaFuncion1.dameResultados();
				
				StringBuffer unString=new StringBuffer().append(elPeor).append("\n");
				unString.append("PARAMÉTROS UTILIZADOS: ");
				unString.append(" nTorneo: ").append(torneo);
				unString.append(" Generaciones: ").append(num_iter);
				unString.append(" Prob. Cruces: ").append(pCruces);
				unString.append(" Prob. Mut: ").append(pMut);
				unString.append(" Tipo Cruce ").append(TipoCruce.values()[tCruce].toString());
				unString.append(" Tipo Selecc. ").append(TipoCruce.values()[tSeleccion].toString());
				unString.append(" Tipo Mutac. ").append(TipoCruce.values()[tMutacion].toString());
				unString.append("Elitismo: ").append({"Sí","No"}[elitismo]);
				
				synchronized(structResultados)
				{
					structResultados.get(0).add(unString.toString());
					structResultados.get(1).add(resultados);
					
				}
			}
			
			
			
		}